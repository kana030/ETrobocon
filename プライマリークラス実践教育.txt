本日→撮影禁止
試走会→誓約書を書いて、部屋の中のみ撮影許可

10:00-10:15 地区大会ツアー
10:15-10:30 キャリブレーション講義
10:30-10:45 ソフト構造説明
10:45-11:45 キャリブレーション演習
12:45-13:00 フェールセーフ講義
13:00-13:40 フェールセーフ演習
13:40-  PID制御講義
  pID制御演習
15:00-15:30 その他のテクニック
15:30 -16:00  質問、フリー走行

【地区大会ツアー】10:00
試走会→実際の会場で走るチャンス

地区大会試走→15分で20チームくらいがわーっと集まる
スタート以外からも走れるようにした方がよいかも(準備必須)

組み立ては前日までにしっかり確認
尻尾の取り付け位置とか(間違えるとルックアップゲートでパラメータずれるかも)
パーツの色は違っていてもOK

モデル・ワークショップ
審査員からの講評、相談、記念撮影等

【キャリブレーション講義】10:15
ジャイロセンサ
値を固定値にしていると、最初からいきなり倒れたり…(ロボットが止まっているのに、倒れていると認識してしまったりする)
「ロボットが動いてない値を、動いてないときの値としてロボットに伝える」
走行体の状態を
・ロボットを手に持った状態でキャリブレーション
・床に置いた状態でキャリブレーション
・複数回キャリブレーション
など考慮することがある
カラーセンサ
明るさの強さ→距離とか白、黒の割合とかによりばらつき
どれくらい明るいか→場所によって異なる→対策
(ライトの下は明るいとか)

10:20
【ソフト構造説明】
技術教育2の演習1のソフトウェアに、
・今回のキャリブレーション、PID制御部を追加
・ライン監視部や、フェールセーフ機能を追加
したサンプルプログラムを用いる(cppとcで構造は同じ)

プログラムを変更したら、ビルドして動いているかを確認

【キャリブレーション演習】10:30

[課題]
ジャイロ(10:50まで)、黒、白の三か所を変更
キャリブレーションは、何度かとって平均をとれば、1回くらい値がずれても大丈夫

白、黒に加えて灰色をキャリブレーションでとるのもよいかも。
黒の値を灰色で取得してもよいかも


午後 12:45-
【フェールセーフ講義】12:45
カラーセンサの白の値を長時間検知→ラインから外れた場合
灰色を判定する予定が判定できない
↓想定通りの走行かの判別
想定通りでなければ何をするか

【フェールセーフ演習】
EV3wayが倒れた→制御しようとしてタイヤが高回転で回り続ける
↓
転倒を判断し、車輪を停止
[課題]
ロボットが転倒したらタイヤを停止

自分たちのチームが何をもって倒れたとするか
→ジャイロセンサとかカラーセンサとかの値でもOK
→チームの戦略

【PID制御講義】
P制御
偏差をゼロに収束できない　とは
現在の偏差→目標値とのずれに対して働く
↓
ある程度のずれが生じる(必ずピッタリになるわけではない)

I制御
オフセットを0に近づけられる
積分をためる量→ガードをかける。
そうしないと、ためた積分がオーバーフローして制御できなくなる可能性があるので注意

D制御
制御応答性が良くなる

P   現在の状況
I   過去の状況
D   将来の状況

Pの係数とDno
s

位相→90 Design
I積分 = 0.025
D制御 = 40

pID検討
オフセット0.5 →ラインセンサが常に白を判定を判定をイメージ.5
カラーセンサの値を入力信号に入れる


(完全に寝てました)
入力信号の位置調整　B4　位相 = 90
積分の特性 G5 I = 0.025
微分の特性 H5 